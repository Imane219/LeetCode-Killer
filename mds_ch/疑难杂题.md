# 疑难杂题

## 数组

### 1.二分查找

> [274. H 指数](https://leetcode.cn/problems/h-index/)

- $O(nlogn),O(1)$
- H指数的数值在[0,n]之间，因此可以对可能的H指数二分搜索
- 对于每一个mid，将其当作可能的H指数。遍历citations数组，记录引用大于等于mid的文章数cnt。
  - 如果cnt>=mid，则H指数可能的范围是[mid,n]，l=mid
  - 如果cnt<mid，则H指数可能的范围是[0,mid-1]，r=mid-1
  - 符合right mid.

> [4. 寻找两个正序数组的中位数](https://leetcode.cn/problems/median-of-two-sorted-arrays/)

等同于找归并后数组的第k/k+1个元素。

**解法1：二分删除**

- $O(log(m+n)),O(1)$
- 找第k个元素实际上是对比两个数组的第k//2个元素，小的那k//2个元素必然不会是第k个元素，可以直接删除。
- 循环k = k//2，直到k==1，比对两个数组的第一个元素。

**解法2：划分数组**

- $O(log(min(m,n))),O(1)$
- 用i,j分别划分两个数组，总能找到正确的i,j让他们左边的元素数量和右边的元素数量相等/或大1，此时即找到中位数。
  - 先找到两个数组中长度短的那一个，用i划分。
  - 用二分的方式遍历i，j的下标可随之确定。i的范围为[0,m]，即数组的左右两端都可划分。
  - 若i左边的数字<=j右边的数字，代表正确的i可能右边，l=mid+1。也可能是当前，更新k1,k2为i,j左侧俩数中最大的和右侧俩数中最小的。
  - 若i左边的数字>j右边的数字，代表正确的i在左边，l=mid-1

### 2.双指针

> [238. 除自身以外数组的乘积](https://leetcode.cn/problems/product-of-array-except-self/)

前缀后缀积，$O(n),O(1)$

- l,r分别从头，尾出发，往ans中填充前缀后缀积。
- ans[l]表示除nums[l]之外的前缀积，即nums[0:l]；ans[r]表示除nums[r]之外的后缀积，即nums[r+1:n]。
- 当l,r相遇，更新的每个ans即答案。

